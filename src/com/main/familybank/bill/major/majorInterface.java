package src.com.main.familybank.bill.major;

import src.com.main.familybank.Datas.Datas;
import src.com.main.familybank.sqlConnecter.Connector;
import javafx.geometry.Insets;
import javafx.geometry.Pos;
import javafx.scene.Scene;
import javafx.scene.image.Image;
import javafx.scene.image.ImageView;
import javafx.scene.layout.*;
import javafx.scene.paint.Color;
import javafx.scene.text.Font;
import javafx.scene.text.Text;
import javafx.stage.Stage;


public class majorInterface {

    private static Stage majorStage = null;

    public static void todo() {
        Connector.loadBills();

        majorStage = new Stage();

        VBox underVBox = new VBox();
        underVBox.setPrefSize(1280, 720);

        //头部信息，账号等个人信息
        HBox headMessageH = new HBox(10);
        headMessageH.setBackground(new Background(new BackgroundImage(new Image("file:FamilyBank\\img\\head.png"), BackgroundRepeat.NO_REPEAT, BackgroundRepeat.NO_REPEAT, BackgroundPosition.CENTER, new BackgroundSize(1292, 110, false, false,false, false))));
        headMessageH.setAlignment(Pos.CENTER_LEFT);
        headMessageH.setPrefHeight(110);
        headMessageH.setPadding(new Insets(0, 0, 0, 10));
        BorderStroke borderStroke = new BorderStroke(null, null, Color.BLACK, null, null, null, BorderStrokeStyle.SOLID, null, null, BorderWidths.DEFAULT, new Insets(0));
        headMessageH.setBorder(new Border(borderStroke));
        //头像START
        Image headPort = new Image("file:FamilyBank\\img\\userImg.png");
        ImageView hPView = new ImageView();
        hPView.setImage(headPort);
        hPView.setPreserveRatio(true);
        hPView.setFitHeight(90);
        hPView.setFitWidth(90);
        //头像END
        //个人信息START
        VBox personalMessageV = new VBox(7);
        personalMessageV.setAlignment(Pos.CENTER);
        //第一行：用户名
        HBox personal_line_1 = new HBox(3);
        Text messageText11 = new Text("用户名：  ");
        messageText11.setFont(new Font(20));
        Text messageText12 = new Text(Datas.account.getUserName());
        messageText12.setFont(new Font(20));
        messageText12.setFill(Color.TURQUOISE);
        personal_line_1.getChildren().addAll(messageText11, messageText12);
        //第二行：真实姓名
        HBox personal_line_2 = new HBox(3);
        Text messageText21 = new Text("真实姓名： ");
        messageText21.setFont(new Font(20));
        Text messageText22 = new Text(Datas.account.getRealName());
        messageText22.setFont(new Font(20));
        messageText22.setFill(Color.BLUE);
        personal_line_2.getChildren().addAll(messageText21, messageText22);
        //第三行：
        HBox personal_line_3 = new HBox(3);
        Text messageText31 = new Text("会员等级： ");
        messageText31.setFont(new Font(20));
        Text messageText32 = new Text("超级黄金会员 SSVIP-20");
        messageText32.setFont(new Font(20));
        messageText32.setFill(Color.YELLOW);
        personal_line_3.getChildren().addAll(messageText31, messageText32);
        personalMessageV.getChildren().addAll(personal_line_1, personal_line_2, personal_line_3);
        //个人信息END
        headMessageH.getChildren().addAll(hPView, personalMessageV);

        //中部信息，有左边导航栏和右边信息展示栏
        HBox centerH = new HBox();
        centerH.setPrefHeight(592);
        //左侧导航栏
        VBox left = LeftNavigation.getVBox();
        VBox centerV = new VBox(20);
        centerV.setPadding(new Insets(20));
        centerV.setAlignment(Pos.CENTER);
        centerV.setPrefWidth(590);
        //--------------------------------------------------------------
        VBox rightV = new VBox(20);
        rightV.setPadding(new Insets(20));
        rightV.setAlignment(Pos.CENTER);
        rightV.setPrefWidth(590);
        //550,266
        //当日状况
        VBox toDayStateVBox = todayState.getTodayStateVBox();
        //预算简报
        VBox budgetVBox = budget.getBudgetVBox();
        //消费分析
        VBox consumptionAnalysisHBox = ConsumptionAnalysis.getConsumptionAnalysisVBox();
        //收支分析
        VBox raEAnalysis = RaEAnalysis.getRaEAnalysisVBox();

        centerV.getChildren().addAll(toDayStateVBox, budgetVBox);
        rightV.getChildren().addAll(consumptionAnalysisHBox, raEAnalysis);
        centerH.getChildren().addAll(left, centerV, rightV);

        //底部信息
        HBox BottomH = new HBox();
        BottomH.setPrefHeight(30);
        BottomH.setAlignment(Pos.CENTER_RIGHT);
        BottomH.setPadding(new Insets(0,40,0,0));
        Text paymentText = new Text("充值");  //一个向tx学习的软件怎么能没有充值呢
        paymentText.setUnderline(true);
        paymentText.setFill(Color.WHITE);
        BottomH.setBackground(new Background(new BackgroundFill(Color.rgb(249, 114, 154), null, null)));
        BottomH.getChildren().add(paymentText);

        //Action
        paymentText.setOnMouseClicked(event -> {
            System.out.println("[INFO][MAJOR]:PAYING");
            Stage payingStage = new Stage();
            BorderPane payingRoot = new BorderPane();
            ImageView payingView = new ImageView(new Image("file:FamilyBank\\img\\paying.jpeg"));
            payingRoot.setCenter(payingView);

            payingStage.setScene(new Scene(payingRoot, 550,366));
            payingStage.setTitle("不会真以为我和马老板一样吧");
            payingStage.setResizable(false);
            payingStage.show();
//++*******++++++++++++========+++++++++++=====++++++++++****#%%%%%%%###########**++===================++*%%%%%%%%%%%%%%%%%%%%%%%%%%%@%#=:.....
//++*******++++++++++++========+++++++++++=====++++****#%%%%%%%%@@@@@@%@@@@@@%%%%%###**+==============++*#%%%%%%%%%%%%%%%%%%%%%%%%%%%%%+-.....
//++******+++++++++++++========+++++++++++===++***###%%%%%%%%%%%%@@@@@@@@@@@%%%%####%%##**++=++=======++*%%%%%%%%%%%%%%%%%%%%%%%%%%%%%#=:  .
//++*******++++++++++++========++++++++++++++**########%%%@@@%%%@@@@@@@@@@@@@%%%####*##%%%##**++======+*#%%%%%%%%%%%%%%%%%%%%%%%%%%%%%*=:
//++*******++++++++++++========++++++++++**###########%%%%@@@@@@@@@@@@@@@@@@@@@%%%%%####%%%%%##*++====+*#%%%%%%%%%%%%%%%%%%%%%%%%%%%%%*=:.
//++*******++++++++++++=======++++++**+***#######%%%@@@@%%@@@@@@@@@@@@@@@@@@@@@@@@@@%%%##%%%%%%%##+==++*#%@%%%%%%%%%%%%%%%%%%%%%%%%%##+-:...
//+********+++++++++++++====+++++++**########%%%%@%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%%%#####%%%%%#*++**%@@@%%%%%%%%%%%%%%%%%%%%%%%%*+-:.
//+********+++++++++++++==+=+++++++*#########%%%%%%%%@@@@@@@@%%@%%@@%%%@@@@@@@@@@@@@@%%%%%%%%%@@@%%%%###%%%@@@%%%%%%%%%%%%%%%%%%%%%#+=:.
//+********+++++++++++++==+====++*###%####%%%@%%%%%%%%@%@@@@%##%%%%#######%%%%@@@@@@@@%%%%%%%%%%@@%%%%%%%%%@@@@%%%%%%%%%%%%%%%%%%%%*=-:.
//++*******+++++++++++++===+===+##%%#%%%%%%%@@%######%%%%@@@%#**##****+==+++**##%%@@@@@%%%%%%%%%%%@@@@@@@@@@@@@@%%%%%%%%%%%%%%%%%%%*-:.
//++*******+++++++++++++===+==+#%%%%%%%@@@@@@%%%%%%%%%%@@@@@%%****+++===----=+++*##%@@@@@@@@@@@@@@@@@@@@@@@@@%@@%%%%%%%%%%%%%%%%%%#+:..
//++*******+++++++++++++++===+#%%%@@@@@@@@@%%%%%%@@@@@@@@@%%%#**+++==-:::::::---=++*%%@@@@@@@@@@@@@@@@@@@@@@@@%%%%%%%%%%%%%%%%%%%%#=...
//++*******+++++++++++++=+==*#%@@@@@@@@@@@@%@@@@@@@@@%%%%%###**+===--::......:.::-==*#%@@@@@@@@@@@@@@@@@@@@@@@%%%%%%%%%%%%%%%%%%@%#-..
//++*******+++++++++++++===*%@@@@@@@@@@@@@@@@@@@@%%%%#####***+=----::..........:::--=*#%%@@%%%%@@@@@@@@@@@@@@@@%%%%%%%%%%%%%%%%%@%*- .
//++********++++++++++++++*%@@@@@@@@@@@@@@@@@@%%%%##******+=+=-::::.........:::::::--=+##%%%%%%%@@@@@@@@@@@@@@@%%%%%%%%%%%%%%%%%@%*:
//++*********+++++++++++=*%@@@@@@@@@@@@@@@@%%%###***++=++==-=-::............::.:::::--=+*#%%%%%%@@@@@@@@@%@@%%@@%%%%%%%%%%%%%%%%@%*:
//++********+++++++++++++#%@@@@@@@@@@@@%%%####****++===-------::...............:::::---=+*#%%%%%@@@@@@@@@@@@#*%%@@%%%%%%%%%%%%%%@%+:
//++********+++++++++++++%@@@@@@@@@@%%%##****+++====--------::::.............:::::::----=+##%%%%@@@@@@@@@@@@#==#%@%%%%%%%%%%%%%%@%+:  .
//+********+++++++++++++*%@@@@@@@@@@%###**++++==-----:::::::::::.............:::::::-----+*#%%%%@@@@@@@@@@@@%+:=+%%@@%%%%%%%%%%%@%+:  .
//+*********++++++++++++#@@@@@@@@@@%##***+=====-----:::::::::::..............::::::::----=+**#%%%%@@@@@@@@@@@#-.-=*%@%%%%%%%%%%%@%*:
//+*********++++++++++++%@@@@@@@@@%%**+++==-=---::::::::::::::::..............:::::::::----=+*#%%@@@@@@@@@@@@%=..:-+#%%%%%%%%%%%@@#-...
//+*********+++++++++++*%@@@@@@@@@%#*++===------:::::::::::::::................::::::::------=+*#%%@@@@@@@@%%*+-.::-+*#%@@@%%%%%@@%=.:.
//+*********+++++++++++*%@@@@@@@@@%#++=+==-----::::-::::::::::::..............::--:::::-:-------=+#@@@@@%%###*=-::::--=#%@@%%%%%%%%+-::.
//+*********+++++++++++*%@@@@@@@@@%#++=+==------::::::::::::::::........::::-======-----------::--+#@@@%#***+===-::::::-+#%%#***#%%*=-::..
//+********+++++++++*++*%@@@@@@@@@%#*+++=------:::::::::::::::::::::::.:-=+++++++++======-:---::::-+%@@@#**===----::::::-++++==-=+*++=-..
//+*********++++++++*+++*%@@@@@@@@@%*+++==-----:::::::::::::::::::::::--+***+===--==-==-=-----::::-=#%%@%#+===----:::::::----:::::==+=-:.. .....
//+*********+++++++++++=+#@@@@@@@@@%#***+=-----:::::::::::::::::::---=+**++==-----:------=----::--===*%%%#===-----:::::::::::.:..::-+*+=:.......
//+*********+++++++++++++#@@@@@@@@@%#**++=-----::::::.:::::::::::--=++++===--------:::-------=====---=+%%#+++=----::::::......:....-=**+-:......
//++********+++++++++++++*%@@@@@@@@%#**++==------===---------------=+++====----::--::---------=--:----=*#*==+=----:::::..  ...:::::-+**+-.......
//++********++++++*+++++++*%@@@@@@@%#*+++==+++++********++======----============+*###**+=-:::.::::::---+#*====----:.:::.    .:::---=++=-:.    ..
//+*********++++++++++++++*#%@@@@@@%#*++++++****#####***++++====----=======++*+=#%%%*+=--:::::::::::--=+#*=-=--:--..::::....::-=====++=-:.     .
//+*********+++++++++++++++*%@@@@@@%#*++*****++++++++==+=+++======---===++***+=-=++=--:::::::::::::---==+*=--::------::::::--==++++=====:..
//+*********++++++++++++++++#@@@@@@%#*+******++===--------==++====---====++++====---:::..::::::::::----====-:::--++==---:--==++++===----:..
//+*********+++++++++++++++=+#@@@@@@#++*****++==------==+====++===-::-=-======----:::::.::::..:::::---=====-::::-+==-------==+++===-----::...
//+*********+++++++++++++++=-+%@@@@@#+++**++++==++++=+%%%#*+===+=--:::=-------::::::::::::::::::::-----====-::.:-==================------::...
//+*********++++++++++++++++==+%@@@@#++++==+*+**##*+==*##*+==-=++=-:.:-==-::::::::::::::::::::::----========-::========++++=====-==-------:::...
//+*********+++++++++++++++++==*##%@#*++++++++****+====++==----++=-:..:---:::::::::::::::::::-------========--+#**++++++++++====----------:::::.
//***********++**+++++++++*+++=+++*#%*+**+++++++====--------::-===-:..::::::::::::::::::::------====-=======-=#%%**++++++++*+++====--==---::::::
//************+*++++++++++++*+++++=+%#+++++======-----------::-===-:.....:::-------:::::::------=-==========-=%@%#*+++********++++=======--:::::
//***************++++++++*+++++++*++#%*++++====------------:---===-:......:::-------::::::-----==-==========-=#%%#*+++***********+++++++==-:::::
//+**************+++++++++++++++++++*#%*++====-----------------===-:.......:::--===----:::----===============-+#%#*++******************+==--::::
//****************++++++++++++******+*##*+=-==---::------------===-:.........:.-=+===--::----==--============-=#%#*++**********##*#****+===--:::
//********************+++++*************#*+==-----------------===--:::..::::----==-==---------------===========+#%**********###%%%##***+====-:::
//*********************+++**************##*+++=======--==-----=--=+=----==++*++=-:::----------------=============##*#**#####%%@@@%%#*++=====--::
//********************************************++=========---:-===+**++++**++++=-:..:::--------------===========-.=#########%%@@@@@%*++=======--:
//**************+******************************++========------=++++*+++++===--::...::::-------------=========+-.-#########%@@@@@@%#*++++====---
//************************+**********###*******+++++=======-----============-::::::::::---------------=========-.-###%#####%@@@@@@@%##**+====---
//*******************************########*******+++++=======------=====---:--:::::----------------============+-.=###%#*#**#%%@@@@@###**++=====-
//******************************#########***********++=====----------===---=+++++**++==-------=============+==+::+######**##**#%%%#*****++++++++
//*******************************#########***********++++======----==+****#####+=+==---------===============++=.-*######********###******+++++++
//******#*****+******************#########***********++++++========+*####***+==--=---::::-----========+===+=++:.+#######***************#*****+++
//*******************************###########*********++++++==+++++*****+======+=++=--:-:------======++++++++*- -########************************
//******************************#############*********+*+++++++++++++++++=+++**+++=--:-:--:---====++++++++*+=::+####*###************************
//******************************###############**********++++++++==++++++++++++===---::--:---===+++++++++*+=..=#########************************
//*****************************#################***##****++++++++=++==========----::::----====+++***+**+**-:.:*%#*#####**********#**************
//*****************************##################**#####******+++++=====-----:::::::::---===++*********++-...=%########*********##**************
//***********+**+**************#########################********+++====-----:::--------==++*******+**+*+:...:*%########***#****####*************
//***********+*****************###############################****++++===-------======+++************+-::...=##%#######********####*************
//*****************************####################################***+++===++++++**************+**+=-:... .*%##########******##%###************
//*****************************#######################################************************+*+*+=:..... -#%############*##*#%#########*******
//*****************************###################################################**************+=-:..... .+%##################%%############***
//*****************************##########################################%#######**************=-:....... -#%##############*#*#%%%#####**####***
//*****************************#########################################**#########**********+-:::...... .+########*###########%%%#####**#######
//*****************************#########################################+-+*#######******++=-:::::.... . :*##################*#%%#######*#######
//*****************************###########**##*######################%%%#-:-+*#####******=--:::..........:#%###################%################
//=++*****++++++++++++++++++++**********************###################%#-:-:-=+*+*****=-:.:::........  .-##*******************#****************
// ..::::...............................................:::::::::::::::::.        ....                   .......................................
//                          .                                                     ..  ..             .::
//   =******##*****=  .....=%+......  =#****- :****##********+                   .#* :%+......     .-#%%=.     :******##******.-***#--#*****#-
//   .:====*@#====-. +####%%%#######: *@=:::.  ::::#%-:::::::.                   +%-:#%#####%%:  :=##=.:*#=:    :====+%%+====: .::=%==%+===*@-
//    :%#**#@%**#@-   ..:*#=..-*+:..  *%-..        #%+=====-                    =@*.##:.==.:%*:=#%@#+===+#@%#+: :%%##%@@###@#. :*##@==%*#@##%-
//    :@%**#@%**#@-   :+%%#***#%@#=   +###%*-     .%%+===+%%.                  =@@*.--..## -+. -=:=++++++++:-=. :%%%%%@@%%%@#. -@*+*=*#*#@#*%*
//   .-@#==*@#==*@=.  -+-+@=-+@+:-+.     .-%%.    -%+    .#%                  .#+%* .#*.##.##. =#####%#######+. :%@%#%@@###@#. -**#%+%%#%@%#@%.
//  .*#@%**###**#@%*:   .*%. -@:  :+.    .-%#.   :%%.    .##     .:.           ..%*.*%: ## :%#. ..:+%*::*+:...   +%*=+%=...--     -%=*+=*@+=*+
//    :@=       -%=   .-*%-  -@=::+@-.+####*:  .+%#: ...:=@+     +%-            .%*=#- .##  :+.  :*%+::-*@#:     .=%@@%+--:.... .:*%-::.+@=-%#.
//    :%=    .**#%: .+##=.   .*#**#+  ....    :#%=.  =***#+.    .#*             .#* .=**%+      .*##*++*+=+#-  =*#*+-:-=+*****-:**#+=*****+++*-
//     :.     :::.   ..                        ..                :.              :.  .:::                  ..  .:.

        });

        underVBox.getChildren().addAll(headMessageH, centerH, BottomH);
        majorStage.setScene(new Scene(underVBox, 1280, 720));
        majorStage.setResizable(false);
        majorStage.setTitle("家庭账户管理平台");
        majorStage.show();
        System.out.println("[INFO][MAJOR]:MAJOR INTERFACE HAS OPENED");
    }

    public static void close(){
        if (majorStage != null) {
            if(majorStage.isShowing()){
                System.out.println("[INFO][MAJOR]:CLOSE MAJOR");
                majorStage.close();
            }
        }
    }


    public static void reFresh(){
        System.out.println("[INFO][MAJOR]:REFRESH START");
        close();
        todo();
        System.out.println("[INFO][MAJOR]:REFRESH OVER");
    }


}
